import{c as E,a as w,u as y}from"./firebase.DTSg3m3I.js";document.addEventListener("DOMContentLoaded",()=>{const u=document.getElementById("register-form"),n=document.getElementById("register-error"),i=document.getElementById("register-success");u.addEventListener("submit",async t=>{t.preventDefault();const g=document.getElementById("name"),f=document.getElementById("email"),h=document.getElementById("password"),p=document.getElementById("confirm-password"),r=t.target.querySelector('button[type="submit"]'),c=g.value.trim(),d=f.value.trim(),a=h.value,l=p.value;if(n.classList.add("hidden"),i.classList.add("hidden"),!c||!d||!a||!l){s("Por favor completa todos los campos.");return}if(a!==l){s("Las contraseñas no coinciden.");return}if(a.length<6){s("La contraseña debe tener al menos 6 caracteres.");return}const b=r.textContent;r.textContent="Creando cuenta...",r.disabled=!0;try{console.log("Creating user with Firebase...");const e=await E(w,d,a);console.log("Updating user profile..."),await y(e.user,{displayName:c}),console.log("User created successfully:",e.user),console.log("User email:",e.user.email),console.log("User UID:",e.user.uid),console.log("User display name:",e.user.displayName),m("¡Cuenta creada exitosamente! Redirigiendo al dashboard..."),console.log("Redirecting to dashboard in 2 seconds..."),setTimeout(()=>{console.log("Executing redirect to /admin/dashboard"),window.location.href="/admin/dashboard"},2e3)}catch(e){console.error("Registration error:",e),console.error("Error code:",e.code),console.error("Error message:",e.message);let o="Error al crear la cuenta. Por favor intenta de nuevo.";switch(e.code){case"auth/email-already-in-use":o="Ya existe una cuenta con este correo electrónico.";break;case"auth/invalid-email":o="Correo electrónico inválido.";break;case"auth/weak-password":o="La contraseña es demasiado débil.";break;case"auth/network-request-failed":o="Error de conexión. Verifica tu internet.";break;case"auth/invalid-api-key":o="Error de configuración de Firebase.";break}s(o)}finally{r.textContent=b,r.disabled=!1}});function s(t){n.textContent=t,n.classList.remove("hidden")}function m(t){i.textContent=t,i.classList.remove("hidden")}});
